<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="714px" preserveAspectRatio="none" style="width:853px;height:714px;background:#FFFFFF;" version="1.1" viewBox="0 0 853 714" width="853px" zoomAndPan="magnify"><defs/><g><rect fill="#90EE90" height="444.9023" style="stroke:#000000;stroke-width:1.5;" width="836.6079" x="10" y="171.1094"/><rect fill="#90EE90" height="253.4395" style="stroke:#000000;stroke-width:1.5;" width="816.6079" x="20" y="267.041"/><rect fill="#ADD8E6" height="46.6211" style="stroke:#000000;stroke-width:1.5;" width="356.9878" x="469.6201" y="393.2832"/><rect fill="#FF7F50" height="73.5762" style="stroke:none;stroke-width:1.0;" width="816.6079" x="20" y="446.9043"/><rect fill="#FF7F50" height="44.2656" style="stroke:none;stroke-width:1.0;" width="836.6079" x="10" y="527.4805"/><rect fill="#FF7F50" height="44.2656" style="stroke:none;stroke-width:1.0;" width="836.6079" x="10" y="571.7461"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="79" x2="79" y1="81.4883" y2="633.0117"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="292.9077" x2="292.9077" y1="81.4883" y2="633.0117"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="374.147" x2="374.147" y1="81.4883" y2="633.0117"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="506.6201" x2="506.6201" y1="81.4883" y2="633.0117"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="657.5698" x2="657.5698" y1="81.4883" y2="633.0117"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="723.6753" x2="723.6753" y1="81.4883" y2="633.0117"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="786.6753" x2="786.6753" y1="81.4883" y2="633.0117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.7207" x="30" y="78.5352">Administrator</text><ellipse cx="79.8604" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M79.8604,21.5 L79.8604,48.5 M66.8604,29.5 L92.8604,29.5 M79.8604,48.5 L66.8604,63.5 M79.8604,48.5 L92.8604,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.7207" x="30" y="645.5469">Administrator</text><ellipse cx="79.8604" cy="657" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M79.8604,665 L79.8604,692 M66.8604,673 L92.8604,673 M79.8604,692 L66.8604,707 M79.8604,692 L92.8604,707 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69.3301" x="258.9077" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.3301" x="265.9077" y="70.5352">gateway</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69.3301" x="258.9077" y="632.0117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.3301" x="265.9077" y="652.5469">gateway</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9854" x="342.147" y="78.5352">Keycloak</text><path d="M354.6396,37 L354.6396,61 M354.6396,49 L371.6396,49 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="383.6396" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9854" x="342.147" y="645.5469">Keycloak</text><path d="M354.6396,652.5 L354.6396,676.5 M354.6396,664.5 L371.6396,664.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="383.6396" cy="664.5" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55.3301" x="479.6201" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.3301" x="486.6201" y="70.5352">books</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55.3301" x="479.6201" y="632.0117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.3301" x="486.6201" y="652.5469">books</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.1055" x="625.5698" y="78.5352">Postgres</text><path d="M639.6226,29 C639.6226,19 657.6226,19 657.6226,19 C657.6226,19 675.6226,19 675.6226,29 L675.6226,55 C675.6226,65 657.6226,65 657.6226,65 C657.6226,65 639.6226,65 639.6226,55 L639.6226,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M639.6226,29 C639.6226,39 657.6226,39 657.6226,39 C657.6226,39 675.6226,39 675.6226,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.1055" x="625.5698" y="645.5469">Postgres</text><path d="M639.6226,658.5 C639.6226,648.5 657.6226,648.5 657.6226,648.5 C657.6226,648.5 675.6226,648.5 675.6226,658.5 L675.6226,684.5 C675.6226,694.5 657.6226,694.5 657.6226,694.5 C657.6226,694.5 639.6226,694.5 639.6226,684.5 L639.6226,658.5 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M639.6226,658.5 C639.6226,668.5 657.6226,668.5 657.6226,668.5 C657.6226,668.5 675.6226,668.5 675.6226,658.5 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.4404" x="702.4551" y="78.5352">Minio</text><path d="M703.6753,37 L703.6753,61 M703.6753,49 L720.6753,49 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="732.6753" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.4404" x="702.4551" y="645.5469">Minio</text><path d="M703.6753,652.5 L703.6753,676.5 M703.6753,664.5 L720.6753,664.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="732.6753" cy="664.5" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><path d="M763.6753,55 L811.6079,55 C816.6079,55 816.6079,68.2441 816.6079,68.2441 C816.6079,68.2441 816.6079,81.4883 811.6079,81.4883 L763.6753,81.4883 C758.6753,81.4883 758.6753,68.2441 758.6753,68.2441 C758.6753,68.2441 758.6753,55 763.6753,55 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M811.6079,55 C806.6079,55 806.6079,68.2441 806.6079,68.2441 C806.6079,81.4883 811.6079,81.4883 811.6079,81.4883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.9326" x="763.6753" y="73.5352">Kafka</text><path d="M763.6753,632.0117 L811.6079,632.0117 C816.6079,632.0117 816.6079,645.2559 816.6079,645.2559 C816.6079,645.2559 816.6079,658.5 811.6079,658.5 L763.6753,658.5 C758.6753,658.5 758.6753,645.2559 758.6753,645.2559 C758.6753,645.2559 758.6753,632.0117 763.6753,632.0117 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M811.6079,632.0117 C806.6079,632.0117 806.6079,645.2559 806.6079,645.2559 C806.6079,658.5 811.6079,658.5 811.6079,658.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.9326" x="763.6753" y="650.5469">Kafka</text><polygon fill="#181818" points="281.5728,108.7988,291.5728,112.7988,281.5728,116.7988,285.5728,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79.8604" x2="287.5728" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.7124" x="86.8604" y="108.0566">POST /api/v1/books/{id}/files</text><polygon fill="#181818" points="363.1396,138.1094,373.1396,142.1094,363.1396,146.1094,367.1396,142.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="293.5728" x2="369.1396" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57.5669" x="300.5728" y="137.3672">verify jwt</text><polygon fill="#181818" points="304.5728,152.1094,294.5728,156.1094,304.5728,160.1094,300.5728,156.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="298.5728" x2="374.1396" y1="156.1094" y2="156.1094"/><path d="M10,171.1094 L72.1387,171.1094 L72.1387,178.4199 L62.1387,188.4199 L10,188.4199 L10,171.1094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="444.9023" style="stroke:#000000;stroke-width:1.5;" width="836.6079" x="10" y="171.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="25" y="184.6777">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="70.2485" x="87.1387" y="183.7441">[jwt is valid]</text><polygon fill="#181818" points="495.2852,205.7305,505.2852,209.7305,495.2852,213.7305,499.2852,209.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="293.5728" x2="501.2852" y1="209.7305" y2="209.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.7124" x="300.5728" y="204.9883">POST /api/v1/books/{id}/files</text><line style="stroke:#181818;stroke-width:1.0;" x1="507.2852" x2="549.2852" y1="239.041" y2="239.041"/><line style="stroke:#181818;stroke-width:1.0;" x1="549.2852" x2="549.2852" y1="239.041" y2="252.041"/><line style="stroke:#181818;stroke-width:1.0;" x1="508.2852" x2="549.2852" y1="252.041" y2="252.041"/><polygon fill="#181818" points="518.2852,248.041,508.2852,252.041,518.2852,256.041,514.2852,252.041" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.5913" x="514.2852" y="234.2988">check jwt role</text><path d="M20,267.041 L82.1387,267.041 L82.1387,274.3516 L72.1387,284.3516 L20,284.3516 L20,267.041 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="253.4395" style="stroke:#000000;stroke-width:1.5;" width="816.6079" x="20" y="267.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="35" y="280.6094">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="143.0054" x="97.1387" y="279.6758">[actor is "Administrator"]</text><polygon fill="#181818" points="712.1753,301.6621,722.1753,305.6621,712.1753,309.6621,716.1753,305.6621" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="507.2852" x2="718.1753" y1="305.6621" y2="305.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.8691" x="514.2852" y="300.9199">save new file</text><polygon fill="#181818" points="518.2852,330.9727,508.2852,334.9727,518.2852,338.9727,514.2852,334.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="512.2852" x2="723.1753" y1="334.9727" y2="334.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.1816" x="524.2852" y="330.2305">link</text><polygon fill="#181818" points="645.6226,360.2832,655.6226,364.2832,645.6226,368.2832,649.6226,364.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="507.2852" x2="651.6226" y1="364.2832" y2="364.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.3374" x="514.2852" y="359.541">save link to book_id</text><polygon fill="#181818" points="518.2852,374.2832,508.2852,378.2832,518.2852,382.2832,514.2852,378.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="512.2852" x2="656.6226" y1="378.2832" y2="378.2832"/><path d="M469.6201,393.2832 L536.7861,393.2832 L536.7861,400.5938 L526.7861,410.5938 L469.6201,410.5938 L469.6201,393.2832 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="46.6211" style="stroke:#000000;stroke-width:1.5;" width="356.9878" x="469.6201" y="393.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22.166" x="484.6201" y="406.8516">par</text><polygon fill="#181818" points="775.6416,427.9043,785.6416,431.9043,775.6416,435.9043,779.6416,431.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="507.2852" x2="781.6416" y1="431.9043" y2="431.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.8247" x="514.2852" y="427.1621">new book format event</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="836.6079" y1="447.9043" y2="447.9043"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165.3384" x="25" y="458.5391">[actor is not "Administrator"]</text><polygon fill="#181818" points="304.5728,479.1699,294.5728,483.1699,304.5728,487.1699,300.5728,483.1699" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="298.5728" x2="506.2852" y1="483.1699" y2="483.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.834" x="310.5728" y="478.4277">HttpStatus 403</text><polygon fill="#181818" points="90.8604,508.4805,80.8604,512.4805,90.8604,516.4805,86.8604,512.4805" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84.8604" x2="292.5728" y1="512.4805" y2="512.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.834" x="96.8604" y="507.7383">HttpStatus 403</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="846.6079" y1="528.4805" y2="528.4805"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80.9155" x="15" y="539.1152">[jwt is absent]</text><polygon fill="#181818" points="90.8604,559.7461,80.8604,563.7461,90.8604,567.7461,86.8604,563.7461" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84.8604" x2="292.5728" y1="563.7461" y2="563.7461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.834" x="96.8604" y="559.0039">HttpStatus 401</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="846.6079" y1="572.7461" y2="572.7461"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="92.5815" x="15" y="583.3809">[jwt is not valid]</text><polygon fill="#181818" points="90.8604,604.0117,80.8604,608.0117,90.8604,612.0117,86.8604,608.0117" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84.8604" x2="292.5728" y1="608.0117" y2="608.0117"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.834" x="96.8604" y="603.2695">HttpStatus 403</text><!--SRC=[XLB1JiCm3BtdAwpkF9K9JZqWSKD2Y4dZFhbjreLaIKdSLXFYtsdSRjt6O3sbUS_llTZ6Wfo7vAdSAQi2UUn_4y0066z4ZPvKeMgq14c593lSCrnr8dUDBT7l8NcH-y8ur8neVLwLEwS38tmI9HBc62GaInUeyd80wsezu9FiQn_9CHZ3EV7PoAOlUy6Dni4gdeJWg31_x4Dbi7nRlKEAjKhRHSgAwPSglzEDCZA8geiyhJDefLURFNnq9BI6ELSBD0Gpewfjp2LjH445QD6eKa3_3VKicy4DhyZdovEIOYiBpRBU6ScKIq_aYVIk5qDXyfacToM3WAq4Apk8jaSMW_okqTeegtzh7De-oaGIa6DyFRuvVWVQ93X1wCVykMac_pCN7bJ68UCTR9pV8O5ifQLZXRI3dpJzSimAvz5CpR2ERZLaN81dedf5I4s0Xxlx8obEhcVmhbmbHNjnwZqE7_DmIFcFnk9QQGnzlZj_9eZkFm00]--></g></svg>